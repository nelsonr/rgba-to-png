@import "compass/reset";
@import "compass/css3/transition";

/*------------------------------

    Compass px to em helper

    Url: https://gist.github.com/ijy/1441967

------------------------------*/

@function em($target, $context: $base-font-size) {
	@if $target == 0 { @return 0 }
	@return $target / $context + 0em;
}


/* Initialize base-font-size */
$base-font-size: 16px;

/*------------------------------

    Base colors

------------------------------*/

$color-residencias: rgb(222,255,0);
$color-residencias-light: rgba(222,255,0,.8);

$color-apresentacoes: rgb(0,252,255);
$color-apresentacoes-light: rgba(0,252,255,.8);

$color-reflexoes: rgb(250,0,150);
$color-reflexoes-light: rgba(250,0,150,.8);


/*------------------------------

    Base rules

------------------------------*/

p {
	margin-bottom: 1em;
}

strong, b {
	font-family: 'Prima Sans Bold';
}

/*------------------------------

    Fonts

------------------------------*/

@font-face {
	font-family: 'Prima Sans BT';
	src: url('fonts/prima-sans-bt-webfont.eot');
	src: url('fonts/prima-sans-bt-webfont.eot?#iefix') format('embedded-opentype'),
	url('fonts/prima-sans-bt-webfont.woff') format('woff'),
	url('fonts/prima-sans-bt-webfont.ttf') format('truetype'),
	url('fonts/prima-sans-bt-webfont.svg#primasans_btroman') format('svg');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Prima Sans Bold';
	src: url('fonts/prima_sans_bold-webfont.eot');
	src: url('fonts/prima_sans_bold-webfont.eot?#iefix') format('embedded-opentype'),
	url('fonts/prima_sans_bold-webfont.woff') format('woff'),
	url('fonts/prima_sans_bold-webfont.ttf') format('truetype'),
	url('fonts/prima_sans_bold-webfont.svg#prima_sansbold') format('svg');
	font-weight: normal;
	font-style: normal;
}


/*------------------------------

    Clearfix

    Author: Nicolas Gallagher
    Url: http://nicolasgallagher.com/micro-clearfix-hack/

------------------------------*/

.clearfix:before,
.clearfix:after {
	content: " ";
	display: table;
}

.clearfix:after {
	clear: both;
}

/**
 * For IE 6/7 only
 * Include this rule to trigger hasLayout and contain floats.
 */
.clearfix {
	*zoom: 1;
}


/*------------------------------

    Grid

------------------------------*/

.container {
	width: 960px;
	margin: auto;
}

.row {
	@extend .clearfix;
	position: relative;
}

.span9, .span6, .span3 {
	float: left;
	position: relative;
}

.span9 {
	width: 960px;
}

.span6 {
	width: 640px;
}

.span3 {
	width: 320px;
}

/*------------------------------

    Helpers

------------------------------*/

.right {
	float: right;
}

.flexible {
	height: auto;
}

.no-margin {
	margin: 0 !important;
}

/*------------------------------

    Icons

------------------------------*/

.icon {
	width: 25px;
	height: 26px;
	background: url('../img/icons.jpg') no-repeat;

	&.icon-t {
		background-position: center 0;
	}

	&.icon-list {
		background-position: center -26px;
	}

	&.icon-calendar {
		background-position: center -52px;
	}

	&.icon-magnifier {
		background-position: center -78px;
	}
}

/*------------------------------

    Toggable boxes

------------------------------*/

.box-head + .box-body {
	height: 0;
	min-height: 0;
	@include transition-property(height, min-height);
	@include transition-duration(0.5s);
}

/*------------------------------

    Form elements

------------------------------*/

form {
	.input {
		margin-top: 10px;
		margin-right: 2px;
		width: 212px;
		height: 46px;

		.input-label, .icon{
			float: left;
		}

		.input-label {
			font-size: em(12px);
			line-height: 20px;
			height: 20px;
			width: 167px;
			padding: 3px 10px;
			margin: 0;
			vertical-align: top;
			background: rgba(0,0,0,.7);
			color: #FFF;
			border: none;
		}
		
		.input-element {
			position: relative;
		}

		.input-element input, .input-element select {
			height: 16px;
			width: 192px;
			padding: 3px 10px;
			margin: 0;
			font-size: em(11px);
			background: rgba(255,255,255,.8);
			border: none;
		}

		.input-element select {
			padding: 3px 0 3px 5px;
			height: 22px;
			width: 100%;
			max-width: 100%;
		}

		.select, .text {
			&:after {
				content: ' ';
				width: 25px;
				height: 22px;
				background: url('../img/icon-dropdown.jpg') no-repeat center;
				position: absolute;
				top: 0;
				right: 0;
			}
		}

		.text {
			input {
				width: 176px;
				padding-right: 26px;
			}

			&:after {
				background: url('../img/icon-magnifier-light.jpg') no-repeat center;
			}
		}

		.input-element.dates:after {
			content: ' ';
			background: url('../img/icon-squares.png') no-repeat center;
			width: 20px;
			height: 20px;
			position: absolute;
			top: 0;
			left: 50%;
			margin-left: -10px;
		}

		.input-element.dates input {
			width: 70px;
			float: left;
			text-align: center;

			&:last-child {
				float: right;
			}
		}
	}
}

/*------------------------------

    Layout

------------------------------*/

body {
	font-family: 'Prima Sans BT', Arial, Helvetica, sans-serif;
	background: url('../img/bg-01.jpg') no-repeat top center fixed;

	& > .container {
		margin-bottom: 70px;
	}
}

/*------------------------------
    Header
------------------------------*/

.header {
	height: 150px;
	margin-bottom: 2px;
	background: url('../img/header-bg.png') repeat-x;
	position: relative;
}

/*------------------------------
    Logo
------------------------------*/

.logo {
	float: left;
	margin-left: 26px;
}

/*------------------------------
    Search
------------------------------*/

.search {
	text-align: right;
	margin-top: 47px;
	height: 50px;

	form {
		height: 50px;

		.input {
			text-align: left;
		}
	}
}

/*------------------------------
    Facebook
------------------------------*/

.facebook {
	text-align: right;
	margin-top: 21px;
	margin-right: 8px;

	a {
		color: #FFF;
	}
}

/*------------------------------
    Main menu
------------------------------*/

.menu-container {
	background: rgba(0,0,0,.6);
	color: #FFF;

	&.darker {
		background: rgba(0,0,0,.8);
	}

	.menu {
		font-size: em(14px);
		text-transform: uppercase;
		padding: 15px 26px;

		a {
			color: #FFF;
			text-decoration: none;

			&.active {
				font-family: 'Prima Sans Bold';
			}

			&.theme-residencias { color: $color-residencias; }
			&.theme-apresentacoes { color: $color-apresentacoes; }
			&.theme-reflexoes { color: $color-reflexoes; }
		}

		li {
			margin-bottom:  13px;
		}

		li:last-child {
			margin-bottom: 0;
		}
	}
}

/*------------------------------
    Partners
------------------------------*/

.partners {
	text-align: right;
	padding-right: 3px;
	padding-top: 3px;
}

/*------------------------------
    Archive
------------------------------*/

.archive {
	margin-top: 2px;
	padding: 15px 26px;
	max-height: 14px;
	overflow: hidden;

	@include transition-property(max-height);
	@include transition-duration(0.2s);

	&.theme-residencias { color: $color-residencias; }
	&.theme-apresentacoes { color: $color-apresentacoes; }

	.title {
		cursor: pointer;
		font-size: em(14px);
		font-family: 'Prima Sans Bold';
		text-transform: uppercase;

		& + .body {
			margin-top: 15px;
		}
 	}

	.body {
		color: #FFF;
		border-color: #FFF;
		font-size: em(12px);

		li {
			margin-bottom: 12px;

			&:last-child {
				margin-bottom: 0;
			}
		}
	}

	.inner-container {
		border-left: 1px solid;
		padding-left: 15px;
	}

	& > .inner-container {
		border-color: transparent;
	}

	&.show {
		max-height: 800px;

		.inner-container {
			border-color: inherit;
		}
	}
}

/*------------------------------
    Slider
------------------------------*/

.slider-container {
	margin-bottom: 3px;
	position: relative;

	.slider {
		overflow: hidden;
		height: 350px;
	}

	.slider-next {
		cursor: pointer;
		background: url('../img/icon-next.png') no-repeat center center;
		position: absolute;
		top: 50%;
		right: -27px;
		width: 27px;
		height: 43px;
		margin-top: -22px;
	}

	.slider-item {
		float: left;
		position: relative;
		width: 640px;

		a {
			text-decoration: none;
			color: inherit;
		}
	}

	.slide-image {
		overflow: hidden;

		img {
			width: 640px;
			max-width: 100%;
			max-height: 350px;
		}
	}

	.slide-description {
		position: absolute;
		top: 0;
		left: 0;
		padding: 20px;
		min-height: 166px;
		width: 600px;
		background: rgba(0,0,0,.6);
		color: #FFF;

		.slide-title, .slide-subtitle {
			text-transform: uppercase;
		}

		.slide-title {
			font-family: 'Prima Sans Bold';
			font-size: em(40px);
			margin-bottom: 8px;
		}

		.slide-subtitle {
			font-size: em(14px);
			margin-bottom: 18px;
		}

		.slide-text {
			font-size: em(12px);
			line-height: em(16px, 12px);
		}
	}
}

/*------------------------------
    Events list
------------------------------*/

.list {
	.list-item {
		height: 142px;
		margin-bottom: 2px;
		background: rgba(255,255,255,.9);
		overflow: hidden;

		&.flexible {
			height: auto;
		}

		.item-image, .item-description-container {
			float: left;
			height: 142px;
		}

		.item-image img {
			width: 214px;
			height: 142px;
		}

		.item-title {
			font-family: 'Prima Sans Bold';
			font-size: em(18px);
			text-transform: uppercase;
			margin-bottom: 8px;

			a {
				color: inherit;
				text-decoration: none;
			}
		}

		.item-description-container {
			width: 425px;
			margin-left: 1px;
		}

		.item-description {
			padding: 15px 12px;
			position: relative;
		}

		.item-subtitle {
			font-size: em(14px);
			text-transform: uppercase;
			margin-bottom: 10px;
		}

		.item-text {
			font-size: em(11px);
			line-height: em(14px, 11px);
		}

		.item-category {
			position: absolute;
			top: 0;
			right: 0;
			padding: 0 14px;
			height: 26px;
			line-height: 26px;
			color: rgba(0,0,0,.7);
			text-align: center;
			text-transform: uppercase;
			font-size: em(12px);

			&:after {
				content: ' ';
				background: url('../img/icon-info.png') no-repeat center center;
				height: 26px;
				width: 25px;
				position: absolute;
				top: -1px;
				right: -25px;
			}
		}
	}
}

/*------------------------------
    Search
------------------------------*/

.search-results {
	background: rgba(255,255,255,.8);
	padding: 15px;

	.query {
		font-family: 'Prima Sans Bold';
		font-size: em(18px);
		margin-bottom: 1em;
	}

	.results {
		a {
			color: inherit;
		}

		li {
			margin-bottom: 1em;
		}
	}
}

/*------------------------------
    Advanced Search
------------------------------*/

.advanced-search {
	margin-bottom: 2px;

	&.theme-residencias {
		.advanced-search-head {
			background: $color-residencias;
		}
		.advanced-search-body {
			background: $color-residencias-light;
		}
	}

	&.theme-apresentacoes {
		.advanced-search-head {
			background: $color-apresentacoes;
		}
		.advanced-search-body {
			background: $color-apresentacoes-light;
		}
	}

	&.theme-reflexoes {
		.advanced-search-head {
			background: $color-reflexoes;
		}
		.advanced-search-body {
			background: $color-reflexoes-light;
		}
	}

	.advanced-search-head {
		color: rgba(0, 0, 0, .8);
		text-transform: uppercase;
		font-family: 'Prima Sans Bold';
		padding: 12px 15px;

		.title {
			font-size: em(24px);
			line-height: em(24px, 24px);
			float: left;
		}

		.label {
			font-size: em(12px);
			line-height: em(24px, 12px);
			float: right;
			cursor: pointer;
			position: relative;

			&:after {
				content: ' ';
				background: url('../img/icon-toggle.png') no-repeat center;
				width: 10px;
				height: 18px;
				position: relative;
				top: 5px;
				display: inline-block;
				margin-left: 10px;
			}
		}
	}

	.advanced-search-body {
		background-color: rgba(222,255,0,.8);
		overflow: hidden;

		&.show {
			min-height: 157px;
		}

		form .input {
			float: left;

			&:nth-child(3n) {
				margin-right: 0;
			}
		}
	}
}

/*------------------------------
    Articles
------------------------------*/

.articles {
	.article-container {
		max-height: 142px;
	}
}

/*------------------------------
    Article
------------------------------*/

.article {
	background: rgba(255,255,255,.8);
	padding: 15px;

	h1 {
		font-family: 'Prima Sans Bold';
		font-size: em(28px);
		text-transform: uppercase;
		margin-bottom: 8px;
	}

	h2 {
		font-family: 'Prima Sans Bold';
		font-size: em(18px);
	}

	h3 {
		font-size: em(14px);
		text-transform: uppercase;
		margin-bottom: 1em;
	}

	.section {
		text-transform: capitalize;
		margin-bottom: 1.5em;
		display: block;

		a {
			color: inherit;
		}
	}

	.image {
		margin-bottom: 1em;
	}

	.content {
		font-size: em(11px);
		line-height: em(14px, 11px);
	}
}
